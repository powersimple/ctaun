"use strict";var menu={},this_item={};function setVideo(e){jQuery("#video-player").attr("src",e)}function initSite(){megaMenu(),null==menus&&window.setTimeout(initSite(),100)}jQuery(function(){jQuery("#main-menu").on("click","a.toggle-menu",function(){jQuery(".exo-menu").toggleClass("display")})}),jQuery(function(){$(window).scroll(function(){30<=jQuery(window).scrollTop()?(jQuery("#site-title").addClass("sticky-header"),jQuery("#sdg-nav").addClass("sticky-header"),jQuery("#main-menu").addClass("sticky-header"),jQuery("#pinned-nav").addClass("sticky-header")):(jQuery("#site-title").removeClass("sticky-header"),jQuery("#sdg-nav").removeClass("sticky-header"),jQuery("#main-menu").removeClass("sticky-header"),jQuery("#pinned-nav").removeClass("sticky-header"))})});var posts={},taxonomies={},categories={},tags={},menus={},media={},posts_nav={},posts_slug_ids={},last_dest="outer-nav",menu_levels=[],menu_slides=[],related={},data_score=7,data_loaded=[],state={},social={};function getStaticJSON(e,t,i){var s=json_path+e+".json";jQuery.ajax({url:s,data:"",success:function(e,s,n){return console.log(e),t(e,i)},error:function(e,s,n){},cache:!1})}function setData(e){setTags(e.tags),setCategories(e.categories),setMenus(e.menus),initSite()}function setPosts(e){if(Array.isArray(e))for(var s=0;s<e.length;s++)void 0!==e[s].title&&void 0!==e[s].title.rendered&&(e[s].title=e[s].title.rendered),void 0!==e[s].content&&void 0!==e[s].content.rendered&&(e[s].content=e[s].content.rendered),void 0!==e[s].type&&(e[s].type,posts[e[s].id]=e[s]);else e.type,posts[e.id]=e;return console.log("posts",posts),posts}function megaMenu(){var e='<nav id="megamenu" class="content">';e+='<ul class="exo-menu">',e+=getMegaMenu(menus.megamenu.menu_levels,""),e+='<a href="#" class="toggle-menu visible-xs-block"><i class="fa fa-bars"></i></a>',e+="</ul></nav>",jQuery("#main-menu").html(e)}function getMegaMenu(e,s){for(var n=0,t="",i="",r="",a="",l="",u="#",o="li",c=0;c<e.length;c++){switch(o="li",(u=i=l=a="")!=(n=e[c]).classes&&(i=' class="'+n.classes+'"',r=n.classes+"-ul"),l=n.classes.indexOf("mega-drop-down")?(a='<div class="animated fadeIn mega-menu">',a+='<div class="mega-menu-wrap">',a+='<div class="row">',a='<ul class="'+r+' animated fadeIn">',"</ul></div></div></div>"):(n.classes.indexOf("drop-down"),a='<ul class="'+r+' animated fadeIn">',"</ul>"),"mega-drop-down"==n.parent_classes&&(o="div"),"gradelevel"==n.object&&console.log("obj",n),n.object){case"page":case"category":case"gradelevel":case"conference":case"award":u=n.url}t+="<"+o+" "+i+'><a href="'+u+'">'+n.title+"</a>",null!=n.children&&0<n.children.length&&(t+=a,t+=getMegaMenu(n.children,n.classes),t+=l),t+="</li>"}return t}state.featured={transition:{type:"flip",face:"front"}},getStaticJSON("content",setData);var menu_config={megamenu:{menu_type:"megamenu",location:"#main-menu"},projects:{menu_type:"project",location:"#projects"},"social-links":{menu_type:"social",location:"#social"}};function setMenus(e){for(var s=0;s<e.length;s++)menus[e[s].slug]={},menus[e[s].slug].menu_array=[],menus[e[s].slug].name=e[s].name,menus[e[s].slug].slug=e[s].slug,menus[e[s].slug].items=setMenu(e[s].slug,e[s].items);buildMenuData()}function setMenu(e,s){menu={};for(var n=0;n<s.length;n++)menu[s[n].ID]=setMenuItem(e,s[n]),0!=s[n].menu_item_parent&&menu[s[n].menu_item_parent].children.push(s[n].ID),menus[e].menu_array.push(menu[s[n].ID]);return console.log("SetMenu",e,menu),menu}function setMenuItem(e,s){return(this_item={}).menu_id=s.ID,this_item.title=s.title,this_item.menu_order=s.menu_order,this_item.object=s.object,this_item.object_id=s.object_id,this_item.parent=s.menu_item_parent,this_item.classes=s.classes,this_item.url=s.url,this_item.description=s.description,this_item.slug=e,this_item.children=[],this_item}function menu_order(e,s){return e.menu_order<s.menu_order?-1:e.menu_order>s.menu_order?1:0}function setLinearNav(e){menus[e].linear_nav=[];for(var s in menus[e].items)menus[e].items[s].slug=s,menus[e].items[s].object_id,menus[e].linear_nav.push(menus[e].items[s]),0;menus[e].linear_nav.sort(menu_order)}function setLinearDataNav(e,s){menus[e].data_nav=[],menus[e].slug_nav=[];for(var n=0,t=0,i=0,r=0,a="outer-nav",l=0;l<s.length;l++){a="outer-nav",s[l].dest=a,s[l].slice=t,i=s[l].notch=n,menus[e].data_nav.push(s[l]),menus[e].slug_nav[s[l].slug]=n,n++;for(var u=0;u<s[l].children.length;u++){s[l].children[u].dest="inner-nav",s[l].children[u].slice=u,s[l].children[u].notch=n,s[l].children[u].parent=i,r=n,menus[e].data_nav.push(s[l].children[u]),menus[e].slug_nav[s[l].children[u].slug]=n,n++;for(var o=0;o<s[l].children[u].children.length;o++)s[l].children[u].children[o].dest="inner-subnav",s[l].children[u].children[o].slice=o,s[l].children[u].children[o].notch=n,s[l].children[u].children[o].grandparent=i,s[l].children[u].children[o].parent=r,menus[e].data_nav.push(s[l].children[u].children[o]),menus[e].slug_nav[s[l].children[u].children[o].slug]=n,n++}t++}}function getSlug(e,s,n,t){if(null!=e){var i=e.slug;null!=posts[e.object_id]&&(i=posts[e.object_id].slug)}return i}function buildMenuData(){if(null==posts)window.setTimeout(buildMenuData(),10);else for(var e in menus){var s=[];if(null!=menu_config[e]){for(var n in menus[e].menu_array=[],menus[e].items)0==menus[e].items[n].parent&&menus[e].menu_array.push(menus[e].items[n]);menus[e].menu_array.sort(menu_order);for(var t=[],i=menus[e].menu_array,r=0;r<i.length;r++){t=[];for(var a=0;a<i[r].children.length;a++){for(var l=[],u=menus[e].items[i[r].children[a]].children,o=0;o<u.length;o++){var c=getSlug(menus[e].items[u[o]],o,"g",u,o);l.push({title:menus[e].items[u[o]].title,url:menus[e].items[u[o]].url,slug:c,object:menus[e].items[u[o]].object,object_id:menus[e].items[u[o]].object_id,classes:menus[e].items[u[o]].classes,description:menus[e].items[u[o]].description})}c=getSlug(menus[e].items[i[r].children[a]],"c",i[r].children[a],a),t.push({title:menus[e].items[i[r].children[a]].title,slug:c,url:menus[e].items[i[r].children[a]].url,object:menus[e].items[i[r].children[a]].object,object_id:menus[e].items[i[r].children[a]].object_id,classes:menus[e].items[i[r].children[a]].classes,description:menus[e].items[i[r].children[a]].description,children:l})}c=getSlug(i[r],"o",i,r),s.push({title:i[r].title,slug:c,url:i[r].url,object:i[r].object,object_id:i[r].object_id,children:t,classes:i[r].classes,description:i[r].description})}menus[e].menu_levels=s,setLinearDataNav(e,menu_levels=s),setLinearNav(e),console.log("data",menus)}}}jQuery(".slideshow").slick({autoplay:!0,dots:!0,arrows:!0,infinite:!0,speed:1500,fade:!0,cssEase:"linear",focusoOnSelect:!0,nextArrow:'<i class="slick-arrow slick-next"></i>',prevArrow:'<i class="slick-arrow slick-prev"></i>',responsive:[{breakpoint:1024,settings:{slidesToShow:1,slidesToScroll:1,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]});var $carousel=jQuery(".slideshow");function setChildCategories(e){for(var s=0;s<e.length;s++)categories[e[s].id]=e[s];return e}function setCategories(e){for(var s=0;s<e.length;s++)categories[e[s].id]=e[s];return console.log("categories",categories),e}function setTags(e){for(var s=0;s<e.length;s++)tags[e[s].id]=e[s];return console.log("tags",tags),e}jQuery(document).on("keydown",function(e){37==e.keyCode&&$carousel.slick("slickPrev"),39==e.keyCode&&$carousel.slick("slickNext")}),jQuery("a[data-slide]").click(function(e){e.preventDefault();var s=jQuery(this).data("slide");console.log(s),$carousel.slick("slickGoTo",s)});